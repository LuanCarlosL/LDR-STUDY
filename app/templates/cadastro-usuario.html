<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuário</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='cadastro-usuario.css') }}">
</head>
<body>
    <header>
        <img src="{{ url_for('static', filename='imgs/Logo.svg') }}" alt="Logo" class="logo">
    </header>

    <div class="container">
        <h2>Cadastro de Usuário</h2>
        
        <!-- Mensagens de flash -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash {{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <form id="form-cadastro" action="{{ url_for('cadastro') }}" method="POST" enctype="multipart/form-data">
            <!-- Linha 1: Nome + Data Nascimento -->
            <div class="form-row">
                <div class="form-group">
                    <label for="nome">Nome Completo</label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                <div class="form-group">
                    <label for="data-nascimento">Data de Nascimento</label>
                    <input type="text" id="data-nascimento" name="data-nascimento" 
                           placeholder="DD/MM/AAAA" maxlength="10" required>
                </div>
            </div>

            <!-- Campo único: E-mail -->
            <div class="form-group full-width">
                <label for="email">E-mail</label>
                <input type="email" id="email" name="email" required>
            </div>

            <!-- Linha 2: Senha + Confirmação -->
            <div class="form-row">
                <div class="form-group">
                    <label for="senha">Senha</label>
                    <input type="password" id="senha" name="senha" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirmar-senha">Confirmar Senha</label>
                    <input type="password" id="confirmar-senha" name="confirmar-senha" required>
                </div>
            </div>

            <!-- Campo único: CPF -->
            <div class="form-group full-width">
                <label for="cpf">CPF</label>
                <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" maxlength="14" required>
            </div>

            <!-- Campo único: Telefone -->
            <div class="form-group full-width">
                <label for="telefone">Telefone</label>
                <input type="text" id="telefone" name="telefone" placeholder="(00) 00000-0000" maxlength="15" required>
            </div>

            <!-- Campo único: Endereço -->
            <div class="form-group full-width">
                <label for="endereco">Endereço Completo</label>
                <input type="text" id="endereco" name="endereco" required>
            </div>

            <!-- Linha 3: Cidade + Estado -->
            <div class="form-row">
                <div class="form-group">
                    <label for="cidade">Cidade</label>
                    <input type="text" id="cidade" name="cidade" required>
                </div>
                <div class="form-group">
                <label for="estado">Estado</label>
                <select id="estado" name="estado">
                <option value="" disabled selected>Selecione seu estado</option>
                <!-- JavaScript vai preencher automaticamente -->
                </select>
                </div>  
            </div>

            <!-- Campo opcional: Foto de Perfil -->
            <div class="form-group full-width">
                <label for="foto">Foto de Perfil (opcional)</label>
                <input type="file" id="foto" name="foto" accept="image/*">
            </div>

            <!-- Campo opcional: Biografia -->
            <div class="form-group full-width">
                <label for="biografia">Biografia (opcional)</label>
                <textarea id="biografia" name="biografia" rows="4"></textarea>
            </div>

            <!-- Botões -->
            <div class="btn-group">
                <button type="reset" class="btn btn-secondary">Limpar</button>
                <button type="submit" class="btn">Cadastrar</button>
            </div>
        </form>
    </div>
<script src="{{ url_for('static', filename='js/cadastro-usuario.js') }}"></script>
</body>
</html>